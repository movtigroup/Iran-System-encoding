# مستندات کتابخانه کدگذاری ایران سیستم

## معرفی

کتابخانه کدگذاری ایران سیستم یک کتابخانه پایتون است که برای کدگذاری و رمزگشایی متن فارسی با استفاده از استاندارد ایران سیستم طراحی شده است. این کتابخانه همان الگوریتم اصلی کد C را برای حداکثر دقت پیاده‌سازی می‌کند و مدیریت صحیح اشکال دیداری و چیدمان دوطرفه متن فارسی را فراهم می‌کند.

## ویژگی‌ها

- **شکل‌دهی پیشرفته متن فارسی**: کتابخانه به درستی اشکال مختلف حروف فارسی (ابتدایی، میانی، انتهایی و منزوی) را مدیریت می‌کند.
- **پشتیبانی از متن دوطرفه**: امکان ترکیب صحیح متن فارسی (راست به چپ) و انگلیسی (چپ به راست) را فراهم می‌کند.
- **تبدیل دوطرفه**: امکان تبدیل قابل اعتماد بین یونی‌کد و کدگذاری ایران سیستم را با استفاده از همان الگوریتم پیاده‌سازی C فراهم می‌کند.
- **پشتیبانی از CLI**: دارای رابط خط فرمان برای استفاده مستقیم از ترمینال.
- **تشخیص محل**: به طور خودکار تشخیص می‌دهد که متن فارسی (fa) یا انگلیسی (en) است و اعداد را متناسب با آن مدیریت می‌کند.
- **مدیریت هوشمندانه اعداد**: تبدیل اعداد به ارقام فارسی هنگامی که محل فارسی است، ارقام ASCII را هنگامی که محل انگلیسی است حفظ می‌کند.
- **پیاده‌سازی خالص پایتون**: کاملاً در پایتون پیاده‌سازی شده و بدون وابستگی‌های خارجی.

## نصب

نصب از طریق pip:

```bash
pip install iran-encoding
```

## استفاده

### کدگذاری متن

```python
from iran_encoding import encode, decode, detect_locale

# کدگذاری متن فارسی
text = "Hello سلام 123"
encoded = encode(text)
print(f"کدگذاری شده: {encoded.hex()}")

# رمزگشایی مجدد
decoded = decode(encoded)
print(f"رمزگشایی شده: {decoded}")  # نشان خواهد داد که اعداد فارسی هستند اگر متن به عنوان فارسی شناخته شود

# تشخیص محل
locale = detect_locale(text)
print(f"محل شناسایی شده: {locale}")  # 'fa' اگر فارسی غالب باشد، 'en' اگر انگلیسی غالب باشد
```

### استفاده از CLI

کدگذاری:
```bash
iran-encoding encode "سلام دنیا"
```

رمزگشایی:
```bash
iran-encoding decode "b'\\x91\\x9d\\x8f'"
```

رمزگشایی هگز:
```bash
iran-encoding decode-hex 919d8f
```

## کدگذاری ایران سیستم

کدگذاری ایران سیستم یک استاندارد اختصاصی برای نمایش متن فارسی در سیستم‌هایی است که از اسکریپت عربی پشتیبانی نمی‌کنند. این کدگذاری مسائل نمایش صحیح اشکال حرفی و چیدمان دوطرفه را با استفاده از همان الگوریتم پیاده‌سازی C اصلی حل می‌کند.

### جزئیات فنی

مجموعه کاراکتر ایران سیستم شامل موارد زیر است:
- کاراکترهای استاندارد ASCII (0x00-0x7F)
- اعداد فارسی (0x80-0x89) نگاشت یافته به ارقام فارسی ۰۱۲۳۴۵۶۷۸۹
- حروف فارسی در اشکال دیداری مختلف
- کاراکترهای طراحی جعبه و نمادهای دیگر

## تشخیص محل و مدیریت عدد

کتابخانه شامل تشخیص هوشمند محل است که تعیین می‌کند آیا متن ورودی عمدتاً فارسی (fa) یا انگلیسی (en) است:

- **محل فارسی (fa)**: اعداد به ارقام فارسی تبدیل می‌شوند (0123456789 → ۰۱۲۳۴۵۶۷۸۹)
- **محل انگلیسی (en)**: اعداد به عنوان ارقام ASCII باقی می‌مانند

## توسعه

برای توسعه محلی:

1. کلون کردن مخزن
2. نصب وابستگی‌ها: `pip install -r requirements.txt`
3. اجرای تست‌ها: `python -m pytest tests/`

## مشارکت

مشارکت‌های شما برای بهبود این کتابخانه بسیار استقبال می‌شود.